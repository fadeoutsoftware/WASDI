# WASDI Documentation source
## Intro
The content of this directory is the Documentation of the WASDI platform.

All rst files represents the sources for the Sphinx documentation tool. Such files are also responsible for the structure of the documentation.

The default output directory is /docs/build

##Requirements/Installation
To generate the documentation the following requirements must be satisfied on the dev machine:
* python 3.8
* pip
* npm
 
To install all requirements please navigate with a command line to the folder *[Project root]/docs* and run:
```
pip install -r requirements.txt
```

### Typedoc installation 

To allows the documentation of Javascript and Typescript source code the global installation of a specific version of Typedoc is required.
Please check that your npm (node package manager) installation is in place and raise the following command 

```
npm install -g typedoc@0.22.18
```

### Javasphinx Issue 
 an HotFix was required to use the javasphinx library.
 In versioning there is a modified version of the ```domain.py``` file
 
 Looking at the last lines of the conf.py we can see one line to substitute this file on readthedocs side.
 Please do not push further versions of this file in the repository !
 To fix the problem on your local machine check whether the javasphinx library is installed and substitute just 
 domain.py file.

 Just as a reference if you have leveraged on a virtual environment located in /docs/venv the command would be the following
```
cp .\domain.py .\venv\Lib\site-packages\javasphinx\
```

Otherwise if you have a system installation of python 3.8 
 ```
cp .\domain.py [Python3.8 Root Folder]\Lib\site-packages\javasphinx\
```
 
##Generate the documentation
To generate the documentation, open a terminal and launch the following command:
```
make html
```
An alternative version, useful for eventual setup debugging without relying on make file, is the following command 

```
sphinx-build -M html . build
```

This command is generated by using sphinx-quickstart from the same version 

##Webhooks and ReadTheDocs
The project has a direct connection, through a webhook, from the feature/Docs branch of WASDI and the ReadTheDocs service.
After an event on feature/Docs, like a commit or a merge, the documentation compile is triggered 
and the resulting webpages are published on https://wasdi.readthedocs.io/

