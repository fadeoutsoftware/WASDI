<div class="workspaces-view">

    <div class="row-v4 justify-content-end toolbar">
        <div class="col-v4-auto mr-auto filter-search-wrapper">
            <input type="text" class="my-input-text" placeholder="{{'WORKSPACES_PLACEHOLDER_SEARCH'|translate}}"
                    ng-model="searchWorkSpace">
        </div>
        <div class="col-v4-auto pr-2">
            <button class="btn btn-primary btn-wasdi" ng-click="m_oController.createWorkspace()">
                <i class="fa fa-plus" aria-hidden="true"></i>{{"WORKSPACES_BUTTON_NEW_WORKSPACE" | translate}}
            </button>
        </div>

    </div>
    <div class="spacer"></div>

    <div class="row-v4 full-width-content">
        <div class="col-v4-lg-4 col-v4-md-4 col-v4-sm-4 col-v4-xs-12 d-flex flex-column workspace-list">
            <!----------------------WORKSPACES LIST---------------------->
            <div class="table-workspaces flex-grow-1">
                <div class="wizards"
                        ng-show="(m_oController.getWorkspaceInfoList().length === 0) && (m_oController.m_bIsLoading === false)">
                    <h4>
                        {{"WORKSPACES_NO_WORKSPACE" | translate}}.
                    </h4>
                    <div class="w-100 text-center mt-5">
                        <button class="btn btn-primary btn-wasdi btn-mdlg" ng-click="m_oController.createWorkspace()">
                            <i class="fa fa-plus" aria-hidden="true"></i>{{"BTN_CREATE_FIRST_WORKSPACE" | translate}}
                        </button>
                    </div>
                </div>

                <div class="loadIcon" ng-hide="( (m_oController.getWorkspaceInfoList().length) > 0 && (m_oController.m_bIsLoading === false) )||
                                                ( (m_oController.getWorkspaceInfoList().length === 0) && (m_oController.m_bIsLoading === false) )">
                    <invader></invader>
                </div>

                <table class="table table-hover" id="TableWorkspacesList" aria-label="WS List table"
                        ng-show="m_oController.getWorkspaceInfoList().length > 0 && (m_oController.m_bIsLoading === false)">
                    <thead>
                    <th >&nbsp;</th>
                    <th ng-click="m_oController.changeSorting('workspaceName')">{{"WORKSPACES_THEAD_WORKSPACES" | translate}}&nbsp;<i class="fa fa-sort-asc" aria-hidden="true" ng-show="m_oController.showArrow('workspaceName', false)"></i><i class="fa fa-sort-desc" aria-hidden="true" ng-show="m_oController.showArrow('workspaceName', true)"></i></th>
                    <th ng-click="m_oController.changeSorting('ownerUserId')">{{"WORKSPACES_THEAD_OWNER" | translate}}&nbsp;<i class="fa fa-sort-asc" aria-hidden="true" ng-show="m_oController.showArrow('ownerUserId', false)"></i><i class="fa fa-sort-desc" aria-hidden="true" ng-show="m_oController.showArrow('ownerUserId', true)"></th>
                    <th></th>
                    <th></th>
                    </thead>
                    <tr ng-repeat="oWSListItem in m_oController.getWorkspaceInfoList() | filter:searchWorkSpace | orderBy:m_oController.sort.column:m_oController.sort.descending"
                            class="workspaces-list-item"
                            ng-class="{'selected-row':m_oController.isSelectedRowInWorkspaceTable(oWSListItem)}">
                        <td ng-click="m_oController.loadProductList(oWSListItem)">
                            &nbsp;
                        </td>
                        <td ng-click="m_oController.loadProductList(oWSListItem)">
                            <span class="ellipsis">
                                {{oWSListItem.workspaceName}}
                            </span>
                        </td>
                        <td ng-click="m_oController.loadProductList(oWSListItem)">
                            <span class="ellipsis">
                                {{oWSListItem.ownerUserId}}
                            </span>
                        </td>

                        <td class="over-color" data-toggle="tooltip" data-placement="top"
                                title="{{'WORKSPACES_TOOLTIP_EDIT'|translate}}"
                                ng-class="{'disabled': oWSListItem.activeNode === false}" ng-disabled="oWSListItem.activeNode === false"
                                ng-click="m_oController.openWorkspace(oWSListItem.workspaceId, oWSListItem.activeNode)">
                            <div>
                                <!--OLD VERSION COMMENTED-->
                                <i>
                                    open
                                    <i class="fa fa-sign-in-alt fa-lg" style="margin-left: 10px;" aria-hidden="true"></i>
                                </i>
                            </div>

                        </td>
                        <!--OLD VERSION COMMENTED-->
                        <td class="over-color" data-toggle="tooltip" data-placement="top"
                                title="{{'WORKSPACES_TOOLTIP_DELETE'|translate}}"
                                ng-click="m_oController.DeleteWorkspace(oWSListItem.workspaceId)">
                            <i class="fa fa-trash fa-lg" aria-hidden="true"></i>
                        </td>
                    </tr>

                </table>
            </div>


        </div>
    </div>


</div>


<script>
    $(function () {
        $('#TableWorkspacesList').on('post-body.bs.table', function () {
            $('[data-tooltip="true"]').tooltip({
                container: 'body'
            });
        });
    });

</script>

