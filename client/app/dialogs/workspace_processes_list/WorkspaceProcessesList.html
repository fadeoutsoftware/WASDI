<div class="modal fade processes-logs-modal">
    <div class="modal-dialog modal-dialog-extra-large">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" ng-click="close(false)" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title ">{{"DIALOG_PROCESSES_LOGS_TITLE"|translate}}</h4>
            </div>
            <div class="modal-body">
                <div ng-hide="m_oController.hasError == false">
                    <h4 class="m-4">{{"DIALOG_PROCESSES_LOGS_NO_WS"|translate}}</h4>
                </div>
                <div ng-hide="m_oController.hasError == true">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                            <table class="table table-responsive table-striped " id="tableProcesses"
                                   aria-label="table processes">
                                <thead>
                                <tr>
                                    <th>
                                        <div class="dropdown">
                                            <button class="btn btn-default dropdown-toggle ng-binding" type="button"
                                                    id="dropdownMenu2" data-toggle="dropdown" aria-expanded="false">
                                                {{m_oController.m_oFilter.m_sStatus}}
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu2">
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="0" href="" class="ng-binding"
                                                       ng-click='m_oController.comboStatusClick("None")'>
                                                       {{"DIALOG_PROCESSES_LOGS_NONE"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="0" href="" class="ng-binding"
                                                       ng-click='m_oController.comboStatusClick("CREATED")'>
                                                       {{"DIALOG_PROCESSES_LOGS_CREATED"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="1" href="" class="ng-binding"
                                                       ng-click='m_oController.comboStatusClick("RUNNING")'>
                                                       {{"DIALOG_PROCESSES_LOGS_RUNNING"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="2" href="" class="ng-binding"
                                                       ng-click='m_oController.comboStatusClick("WAITING")'>
                                                       {{"DIALOG_PROCESSES_LOGS_WAITING"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="3" href="" class="ng-binding"
                                                       ng-click='m_oController.comboStatusClick("READY")'>
                                                       {{"DIALOG_PROCESSES_LOGS_READY"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="4" href="" class="ng-binding"
                                                       ng-click='m_oController.comboStatusClick("DONE")'>
                                                       {{"DIALOG_PROCESSES_LOGS_DONE"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="5" href="" class="ng-binding"
                                                       ng-click='m_oController.comboStatusClick("ERROR")'>
                                                       {{"DIALOG_PROCESSES_LOGS_ERROR"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="6" href="" class="ng-binding"
                                                       ng-click='m_oController.comboStatusClick("STOPPED")'>
                                                       {{"DIALOG_PROCESSES_LOGS_STOPPED"|translate}}
                                                    </a>
                                                </li>
                                            </ul>

                                        </div>
                                    </th>
                                    <th>
                                        <div class="dropdown">
                                            <button class="btn btn-default dropdown-toggle ng-binding" type="button"
                                                    id="dropdownMenu2" data-toggle="dropdown" aria-expanded="false">
                                                {{m_oController.m_oFilter.m_sType}}
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu2">
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="0" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("None")'>
                                                       {{"DIALOG_PROCESSES_LOGS_NONE"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="0" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("RUNPROCESSOR")'>
                                                       {{"DIALOG_PROCESSES_LOGS_RUNPROCESSOR"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="1" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("RUNIDL")'>
                                                       {{"DIALOG_PROCESSES_LOGS_RUNIDL"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="2" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("RUNMATLAB")'>
                                                       {{"DIALOG_PROCESSES_LOGS_RUNMATLAB"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="3" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("INGEST")'>
                                                       {{"DIALOG_PROCESSES_LOGS_INGEST"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="4" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("DOWNLOAD")'>
                                                       {{"DIALOG_PROCESSES_LOGS_DOWNLOAD"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="5" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("PUBLISHBAND")'>
                                                       {{"DIALOG_PROCESSES_LOGS_PUBLISHBAND"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="6" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("GRAPH")'>
                                                       {{"DIALOG_PROCESSES_LOGS_GRAPH"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="6" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("DEPLOYPROCESSOR")'>
                                                       {{"DIALOG_PROCESSES_LOGS_DEPLOYPROCESSOR"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="7" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("COPYTOSFTP")'>
                                                       {{"DIALOG_PROCESSES_LOGS_COPYTOSFTP"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="8" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("FTPUPLOAD")'>
                                                       {{"DIALOG_PROCESSES_LOGS_FTPUPLOAD"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="9" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("MOSAIC")'>
                                                       {{"DIALOG_PROCESSES_LOGS_MOSAIC"|translate}}
                                                    </a>
                                                </li>
                                                <li role="presentation" class="ng-scope">
                                                    <a role="menuitem" tabindex="10" href="" class="ng-binding"
                                                       ng-click='m_oController.comboTypeClick("MULTISUBSET")'>
                                                       {{"DIALOG_PROCESSES_LOGS_MULTISUBSET"|translate}}
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </th>
                                    <th><input type="text" class="" ng-model="m_oController.m_oFilter.m_sName"
                                               placeholder='{{"DIALOG_PROCESSES_LOGS_NAME"|translate}}'></th>
                                    <th scope="col"><input type="text" class=""
                                                           ng-model="m_oController.m_oFilter.m_sDate"
                                                           placeholder='{{"DIALOG_PROCESSES_LOGS_DATE"|translate}}' ng-disabled="true"></th>
                                    <th><a ng-click="m_oController.applyFilters()" style="cursor:pointer"><span><i
                                        class="custom-icon fa fa-filter"></i>&nbsp;{{"DIALOG_PROCESSES_LOGS_APPLY_FILTERS"|translate}}</span></a></th>
                                    <th><a ng-click="m_oController.resetFilters()" style="cursor:pointer"><span><i
                                        class="custom-icon fa fa-remove"></i>&nbsp;{{"DIALOG_PROCESSES_LOGS_RESET_FILTERS"|translate}}</span></a></th>
                                    <th></th>
                                    <th><a ng-click="m_oController.downloadProcessesFile()" download="download"
                                           style="cursor:pointer"><span><i class="custom-icon fa fa-download"></i>{{"DIALOG_DOWNLOAD_BUTTON"|translate}}</span></a>
                                    </th>
                                    <th></th>
                                    <th></th>
                                </tr>
                                </thead>
                            </table>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><!--style="height: 80px"-->

                            <table class="table table-responsive table-striped " id="tableProcesses"
                                   aria-label="table processes">
                                <thead>
                                <tr>
                                    <th></th>
                                    <th>{{"ROOT_TABLE_HEAD_TYPE_OF_OPERATION"|translate}}</th>
                                    <th>{{"ROOT_TABLE_HEAD_NAME"|translate}}</th>
                                    <th>{{"ROOT_TABLE_HEAD_ID_USER"|translate}}</th>
                                    <th>{{"ROOT_TABLE_HEAD_SIZE"|translate}}</th>
                                    <th>{{"ROOT_TABLE_HEAD_OPERATION_DATA"|translate}}</th>
                                    <th>{{"ROOT_TABLE_HEAD_OPERATION_START"|translate}}</th>
                                    <th>{{"ROOT_TABLE_HEAD_PROGRESS"|translate}}</th>
                                    <th>{{"ROOT_TABLE_HEAD_TIME"|translate}}</th>
                                    <th></th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>

                                <tr ng-repeat="oProcess in m_oController.m_aoProcessesLogs  | orderBy:'+' | filter: m_oController.filterTable track by $index ">
                                    <td>
                                        <invaderfixed
                                            ng-show="oProcess.status === 'RUNNING' || oProcess.status === 'WAITING' || oProcess.status === 'READY'"></invaderfixed>
                                        <span class="label label-info"
                                              ng-show="oProcess.status === 'CREATED'">{{"DIALOG_PROCESSES_LOGS_WAIT"|translate}}</span>
                                        <span class="label label-warning"
                                              ng-show="oProcess.status === 'DONE'">{{"DIALOG_PROCESSES_LOGS_LOG"|translate}}</span>
                                        <span class="label label-danger"
                                              ng-show="oProcess.status === 'STOPPED'">{{"DIALOG_PROCESSES_LOGS_STOP"|translate}}</span>
                                        <span class="label label-danger"
                                              ng-show="oProcess.status === 'ERROR'">{{"DIALOG_PROCESSES_LOGS_ERR"|translate}}</span>
                                    </td>
                                    <td>
                                        {{m_oController.getOperationDescription(oProcess)}}
                                    </td>
                                    <td class="text" data-toggle="tooltip" title="{{oProcess.productName}}"
                                        data-placement="bottom">
                                        <span class="ellipsis">{{oProcess.productName}}</span>
                                    </td>
                                    <td>
                                        {{oProcess.userId}}
                                    </td>
                                    <td>
                                        {{oProcess.fileSize}}
                                    </td>
                                    <td>
                                        {{oProcess.operationDate}}
                                    </td>
                                    <td>
                                        {{oProcess.operationStartDate}}
                                    </td>
                                    <td>
                                        <div class="progress">
                                            <div class="progress-bar progress-bar-success" role="progressbar"
                                                 aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"
                                                 ng-style="{width:oProcess.progressPerc+'%' }">
                                                <span class="">{{oProcess.progressPerc}} %</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        {{m_oController.getProcessDuration(oProcess)}}
                                    </td>
                                    <td>
                                        <div class="pointer-cursor-hover"
                                             ng-click="m_oController.deleteProcess(oProcess)"
                                             ng-show="oProcess.status === 'RUNNING' || oProcess.status === 'CREATED'|| oProcess.status === 'WAITING' || oProcess.status === 'READY'">
                                            <i class="fa fa-times-circle" aria-hidden="true" data-toggle="tooltip"
                                               title='{{"DIALOG_PROCESSES_LOGS_STOP_PROCESSES"|translate}}' data-placement="bottom" ng-hide="m_oController.getOperationDescription(oProcess) === 'KILLPROCESSTREE'"></i>
                                        </div>
                                    </td>
                                    <td>
                                        <td class="over-icon" ng-click="m_oController.openProcessorLogsDialog(oProcess)"
                                                style="margin-bottom: 5px;margin-right: 5px;color:#43516A;">
                                            <i class="fa fa-file-alt" aria-hidden="true" title='{{"DIALOG_PROCESSES_LOGS_LOG"|translate}}'
                                               data-placement="bottom" data-toggle="tooltip"></i>
                                        </td>
                                        <td class="over-icon"
                                            style="color:#43516A;">
                                            <i class="fa fa-database" aria-hidden="true" title='{{"DIALOG_PROCESSES_LOGS_PAYLOAD"|translate}}'
                                               data-placement="bottom" data-toggle="tooltip"
                                               ng-click="m_oController.openPayloadDialog(oProcess)" ng-hide="(oProcess.payload==null)"
                                            ></i>
                                        </td>
                                    </td>
                                </tr>

                                </tbody>
                            </table>
                        </div>

                    </div>

                    <div class="row" ng-hide="m_oController.m_bAreProcessesLoaded">
                        <div
                            class="col-xs-8 col-sm-8 col-md-8 col-lg-8 col-xs-offset-4 col-sm-offset-4 col-md-offset-4 col-lg-offset-4">
                            <div class="loadIcon">
                                <invader></invader>
                            </div>
                        </div>
                    </div>

                    <div class="row" ng-show="m_oController.m_bAreProcessesLoaded">
                        <div
                            class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xs-offset-6 col-sm-offset-6 col-md-offset-6 col-lg-offset-6">
                            <button class="btn btn-default btn-wasdi" ng-click="m_oController.getAllProcessesLogs()"
                                    ng-disabled="!m_oController.isLoadMoreButtonClickable">
                                <i class="fa fa-refresh mr-2" aria-hidden="true"></i>{{"DIALOG_PROCESSES_LOGS_LOAD_MORE"|translate}}
                            </button>
                        </div>
                    </div>


                </div>

            </div>

        </div>
    </div>
</div>
