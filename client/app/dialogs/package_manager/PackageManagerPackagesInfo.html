<div class="container-fluid">
    <div class="row">
        <div class="col-xs-12">
            <h4>
                {{"DIALOG_PACKAGE_MANAGER_VIEWING" | translate }}
                {{m_oController.sWorkspaceName}}
            </h4>
            <h4>
                {{"DIALOG_PACKAGE_MANAGER_HEADER" | translate }}
                {{m_oController.m_sPackageManagerName}}
                {{m_oController.m_sPackageManagerVersion}}
            </h4>
            <form action="">
                <input
                    type="text"
                    placeholder='{{"DIALOG_PACKAGE_MANAGER_NAME" | translate }}'
                    ng-model="m_oController.m_oPackageInfo.name"
                />
                <input
                    type="text"
                    placeholder='{{"DIALOG_PACKAGE_MANAGER_VERSION" | translate }}'
                    ng-model="m_oController.m_oPackageInfo.currentVersion"
                />
                <div ng-if="!m_oController.bIsEditing">
                    <button
                        type="button"
                        class="btn btn-primary btn-wasdi"
                        ng-click="m_oController.addLibrary(m_oController.sProcessorId, m_oController.m_oPackageInfo)"
                    >
                         {{"DIALOG_PACKAGE_MANAGER_ADD" | translate }}
                    </button>
                </div>
                <div ng-if="m_oController.bIsEditing">
                    <button
                        type="button"
                        class="btn btn-primary btn-wasdi"
                        ng-click="m_oController.updatePackage(m_oController.sProcessorId, m_oController.m_oPackageInfo)"
                    >
                        Update Package
                    </button>
                    <button
                        type="button"
                        class="btn btn-danger btn-wasdi"
                        ng-click="m_oController.bIsEditing = false"
                    >
                        Clear Selection
                    </button>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <table class="table table-hover">
                <description></description>
                <tbody>
                    <tr>
                        <th
                            style="cursor: pointer"
                            ng-click="m_oController.changeSorting('packageName')"
                        >
                            Package Name
                        </th>
                        <th
                            style="cursor: pointer"
                            ng-click="m_oController.changeSorting('currentVersion')"
                        >
                            Current Version
                        </th>
                        <th
                            style="cursor: pointer"
                            ng-click="m_oController.changeSorting('latestVersion')"
                        >
                            Latest Version
                        </th>
                        <th>Actions</th>
                    </tr>
                    <tr
                        ng-repeat="package in m_oController.m_aoPackages | orderBy:m_oController.sort.column:m_oController.sort.descending"
                    >
                        <td>{{package.packageName}}</td>
                        <td>{{package.currentVersion}}</td>
                        <td>
                            <span ng-if="package.latestVersion !== null">
                                {{package.latestVersion}}
                            </span>
                        </td>
                        <td class="over-icon">
                            <button
                                class="btn btn-primary btn-wasdi"
                                ng-click="m_oController.removeLibrary(m_oController.sProcessorId, package.packageName)"
                            >
                                <i
                                    class="fa fa-trash fa-lg"
                                    aria-hidden="true"
                                    style="margin-right: 0px"
                                ></i>
                            </button>
                            <button
                                class="btn btn-success btn-wasdi"
                                ng-click="m_oController.editPackage(package)"
                            >
                                <i
                                    class="far fa-plus"
                                    aria-hidden="true"
                                    style="margin-right: 0px"
                                ></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
